<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>
<script>
function UpdateData() {
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function () {
      if (this.readyState == 4 && this.status == 200) {
        var DataVDK = xhttp.responseText;
        console.log("Dữ liệu VDK: " + DataVDK);
        var DataJson = JSON.parse(DataVDK);
        if (DataJson.TB1 != null) {
          if (DataJson.TB1 == 0) {
            document.getElementById("trangthaiden").innerHTML = "OFF";
          }
          else if (DataJson.TB1 == 1) {
            document.getElementById("trangthaiden").innerHTML = "ON";
          }
        }
        if (DataJson.TB2 != null) {
          if (DataJson.TB2 == 0) {
            document.getElementById("trangthaiquat").innerHTML = "OFF";
          }
          else if (DataJson.TB2 == 1) {
            document.getElementById("trangthaiquat").innerHTML = "ON";
          }
        }
        if (DataJson.TB3 != null) {
          if (DataJson.TB3 == 0) {
            document.getElementById("trangthaiquat1").innerHTML = "OFF";
          }
          else if (DataJson.TB3 == 1) {
            document.getElementById("trangthaiquat1").innerHTML = "ON";
          }
        }
        if (DataJson.TB4 != null) {
          if (DataJson.TB4 == 0) {
            document.getElementById("trangthaiquat2").innerHTML = "OFF";
          }
          else if (DataJson.TB4 == 1) {
            document.getElementById("trangthaiquat2").innerHTML = "ON";
          }
        }
        if (DataJson.TB5 != null) {
          if (DataJson.TB5 == 0) {
            document.getElementById("trangthaiquat3").innerHTML = "OFF";
          }
          else if (DataJson.TB5 == 1) {
            document.getElementById("trangthaiquat3").innerHTML = "ON";
          }
        }
        if (DataJson.TB6 != null) {
          if (DataJson.TB6 == 0) {
            document.getElementById("trangthaiquat4").innerHTML = "OFF";
          }
          else if (DataJson.TB6 == 1) {
            document.getElementById("trangthaiquat4").innerHTML = "ON";
          }
        }
        if (DataJson.H1 != null) {
          if (DataJson.H1 == 0) {
            document.getElementById("henden").innerHTML = "không có xe đặt chỗ";
          }
          else if (DataJson.H1 == 1) {
            document.getElementById("henden").innerHTML = "Đã hẹn h thành công";
          }
        }
        if (DataJson.H2 != null) {
          if (DataJson.H2 == 0) {
            document.getElementById("henquat").innerHTML = "không có xe đặt chỗ";
          }
          else if (DataJson.H2 == 1) {
            document.getElementById("henquat").innerHTML = "Đã hẹn h thành công";
          }
        }
        if (DataJson.H3 != null) {
          if (DataJson.H3 == 0) {
            document.getElementById("henquat1").innerHTML = "không có xe đặt chỗ";
          }
          else if (DataJson.H3 == 1) {
            document.getElementById("henquat1").innerHTML = "Đã hẹn h thành công";
          }
        }
        if (DataJson.H4 != null) {
          if (DataJson.H4 == 0) {
            document.getElementById("henquat2").innerHTML = "không có xe đặt chỗ";
          }
          else if (DataJson.H4 == 1) {
            document.getElementById("henquat2").innerHTML = "Đã hẹn h thành công";
          }
        }
        if (DataJson.H5 != null) {
          if (DataJson.H5 == 0) {
            document.getElementById("henquat3").innerHTML = "không có xe đặt chỗ";
          }
          else if (DataJson.H5 == 1) {
            document.getElementById("henquat3").innerHTML = "Đã hẹn h thành công";
          }
        }
        if (DataJson.H6 != null) {
          if (DataJson.H6 == 0) {
            document.getElementById("henquat4").innerHTML = "không có xe đặt chỗ";
          }
          else if (DataJson.H6 == 1) {
            document.getElementById("henquat4").innerHTML = "Đã hẹn h thành công";
          }
        }
      }
    };
    xhttp.open("GET", "/LoadData", true);
    xhttp.send();
    setTimeout(function () { UpdateData() }, 1000);
  }
  function hengio() {
    var selectchon = document.getElementById("chon");
    var chon = selectchon.options[selectchon.selectedIndex].value;
    if (chon == "1") {
      console.log("Chọn đèn!!!");
      var trangthaihengioden = document.getElementById("henden").innerHTML;
      var trangthaivitriden = document.getElementById("trangthaiden").innerHTML;
      console.log("Chọn đèn!!!" + trangthaihengioden);
      if (trangthaivitriden == "ON") {
        alert("Đã có xe ở vị trí này vui lòng chọn vị trí khác!!!");
        return;
      }
      else if (trangthaivitriden == "OFF") {
        if (trangthaihengioden == "Đã hẹn h thành công") {
          alert("Tắt hẹn giờ đi rùi cài đặt nha!!!");
          return;
        }
        else if (trangthaihengioden == "không có xe đặt chỗ") {
          HenDen();
        }
      }
    }
    else if (chon == "2") {
      console.log("Chọn quat!!!");
      var trangthaihengioquat = document.getElementById("henquat").innerHTML;
      var trangthaivitriquat = document.getElementById("trangthaiquat").innerHTML;
      console.log("Chọn quat!!!" + trangthaihengioquat);
      if (trangthaivitriquat == "ON") {
        alert("Đã có xe ở vị trí này vui lòng chọn vị trí khác!!!");
        return;
      }
      else if (trangthaivitriquat == "OFF") {
        if (trangthaihengioquat == "Đã hẹn h thành công") {
          alert("Tắt hẹn giờ đi rùi cài đặt nha!!!");
          return;
        }
        else if (trangthaihengioquat == "không có xe đặt chỗ") {
          HenQuat();
        }
      }
    }
    else if (chon == "3") {
      console.log("Chọn quạt1!!!");
      var trangthaihengioquat1 = document.getElementById("henquat1").innerHTML;
      var trangthaivitriquat1 = document.getElementById("trangthaiquat1").innerHTML;
      console.log("Chọn quạt1!!!" + trangthaihengioquat1);
      if (trangthaivitriquat1 == "ON") {
        alert("Đã có xe ở vị trí này vui lòng chọn vị trí khác!!!");
        return;
      }
      else if (trangthaivitriquat1 == "OFF") {
        if (trangthaihengioquat1 == "Đã hẹn h thành công") {
          alert("Tắt hẹn giờ đi rùi cài đặt nha!!!");
          return;
        }
        else if (trangthaihengioquat1 == "không có xe đặt chỗ") {
          HenQuat1();
        }
      }
    }
    else if (chon == "4") {
      console.log("Chọn quạt2!!!");
      var trangthaihengioquat2 = document.getElementById("henquat2").innerHTML;
      var trangthaivitriquat2 = document.getElementById("trangthaiquat2").innerHTML;
      console.log("Chọn quạt2!!!" + trangthaihengioquat2);
      if (trangthaivitriquat2 == "ON") {
        alert("Đã có xe ở vị trí này vui lòng chọn vị trí khác!!!");
        return;
      }
      else if (trangthaivitriquat2 == "OFF") {
        if (trangthaihengioquat2 == "Đã hẹn h thành công") {
          alert("Tắt hẹn giờ đi rùi cài đặt nha!!!");
          return;
        }
        else if (trangthaihengioquat2 == "không có xe đặt chỗ") {
          HenQuat2();
        }
      }
    }
    else if (chon == "5") {
      console.log("Chọn quạt3!!!");
      var trangthaihengioquat3 = document.getElementById("henquat3").innerHTML;
      var trangthaivitriquat3 = document.getElementById("trangthaiquat3").innerHTML;
      console.log("Chọn quạt3!!!" + trangthaihengioquat3);
      if (trangthaivitriquat3 == "ON") {
        alert("Đã có xe ở vị trí này vui lòng chọn vị trí khác!!!");
        return;
      }
      else if (trangthaivitriquat3 == "OFF") {
        if (trangthaihengioquat3 == "Đã hẹn h thành công") {
          alert("Tắt hẹn giờ đi rùi cài đặt nha!!!");
          return;
        }
        else if (trangthaihengioquat3 == "không có xe đặt chỗ") {
          HenQuat3();
        }
      }
    }
    else if (chon == "6") {
      console.log("Chọn quạt4!!!");
      var trangthaihengioquat4 = document.getElementById("henquat4").innerHTML;
      var trangthaivitriquat4 = document.getElementById("trangthaiquat4").innerHTML;
      console.log("Chọn quạt4!!!" + trangthaihengioquat4);
      if (trangthaivitriquat4 == "ON") {
        alert("Đã có xe ở vị trí này vui lòng chọn vị trí khác!!!");
        return;
      }
      else if (trangthaivitriquat4 == "OFF") {
        if (trangthaihengioquat4 == "Đã hẹn h thành công") {
          alert("Tắt hẹn giờ đi rùi cài đặt nha!!!");
          return;
        }
        else if (trangthaihengioquat4 == "không có xe đặt chỗ") {
          HenQuat4();
        }
      }
    }
  }
  
  function HenQuat() {
    var selectgioduoi = document.getElementById("gioduoi");
    var textgioduoi = selectgioduoi.options[selectgioduoi.selectedIndex].value;
    console.log("textgioduoi: " + textgioduoi);
    var selectphutduoi = document.getElementById("phutduoi");
    var textphutduoi = selectphutduoi.options[selectphutduoi.selectedIndex].value;
    console.log("textphutduoi: " + textphutduoi);
    var selectgiotren = document.getElementById("giotren");
    var textgiotren = selectgioduoi.options[selectgiotren.selectedIndex].value;
    console.log("textgiotren: " + textgiotren);
    var selectphuttren = document.getElementById("phuttren");
    var textphuttren = selectphutduoi.options[selectphuttren.selectedIndex].value;
    console.log("textphuttren: " + textphuttren);
    if (textgiotren == textgioduoi) {
      if (textphuttren > textphutduoi) {
        var txden = "1";
        var xhttp = new XMLHttpRequest();
        xhttp.open("GET", "/HenTB2?quat=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
        xhttp.send();
      }
      else if (textphuttren <= textphutduoi) {
        alert("Vui lòng chọn phút dưới nhỏ hơn phút trên");
        return;
      }

    }
    else if (textgiotren > textgioduoi) {
      var txden = "1";


      var xhttp = new XMLHttpRequest();

      xhttp.open("GET", "/HenTB2?quat=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
      xhttp.send();

    }
    else if (textgiotren < textgioduoi) {

      alert("Vui lòng chọn giờ dưới lớn hơn hoặc bằng giờ trên");
      return;
    }
  }
  function HenQuat1() {
    var selectgioduoi = document.getElementById("gioduoi");
    var textgioduoi = selectgioduoi.options[selectgioduoi.selectedIndex].value;
    console.log("textgioduoi: " + textgioduoi);

    var selectphutduoi = document.getElementById("phutduoi");
    var textphutduoi = selectphutduoi.options[selectphutduoi.selectedIndex].value;
    console.log("textphutduoi: " + textphutduoi);


    var selectgiotren = document.getElementById("giotren");
    var textgiotren = selectgioduoi.options[selectgiotren.selectedIndex].value;
    console.log("textgiotren: " + textgiotren);

    var selectphuttren = document.getElementById("phuttren");
    var textphuttren = selectphutduoi.options[selectphuttren.selectedIndex].value;
    console.log("textphuttren: " + textphuttren);


    if (textgiotren == textgioduoi) {

      if (textphuttren > textphutduoi) {

        var txden = "1";


        var xhttp = new XMLHttpRequest();

        xhttp.open("GET", "/HenTB3?quat1=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
        xhttp.send();
      }
      else if (textphuttren <= textphutduoi) {
        alert("Vui lòng chọn phút dưới nhỏ hơn phút trên");
        return;
      }

    }
    else if (textgiotren > textgioduoi) {
      var txden = "1";


      var xhttp = new XMLHttpRequest();

      xhttp.open("GET", "/HenTB3?quat1=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
      xhttp.send();

    }
    else if (textgiotren < textgioduoi) {

      alert("Vui lòng chọn giờ dưới lớn hơn hoặc bằng giờ trên");
      return;
    }
  }

  function HenQuat2() {
    var selectgioduoi = document.getElementById("gioduoi");
    var textgioduoi = selectgioduoi.options[selectgioduoi.selectedIndex].value;
    console.log("textgioduoi: " + textgioduoi);

    var selectphutduoi = document.getElementById("phutduoi");
    var textphutduoi = selectphutduoi.options[selectphutduoi.selectedIndex].value;
    console.log("textphutduoi: " + textphutduoi);


    var selectgiotren = document.getElementById("giotren");
    var textgiotren = selectgioduoi.options[selectgiotren.selectedIndex].value;
    console.log("textgiotren: " + textgiotren);

    var selectphuttren = document.getElementById("phuttren");
    var textphuttren = selectphutduoi.options[selectphuttren.selectedIndex].value;
    console.log("textphuttren: " + textphuttren);


    if (textgiotren == textgioduoi) {

      if (textphuttren > textphutduoi) {

        var txden = "1";


        var xhttp = new XMLHttpRequest();

        xhttp.open("GET", "/HenTB4?quat2=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
        xhttp.send();
      }
      else if (textphuttren <= textphutduoi) {
        alert("Vui lòng chọn phút dưới nhỏ hơn phút trên");
        return;
      }

    }
    else if (textgiotren > textgioduoi) {
      var txden = "1";


      var xhttp = new XMLHttpRequest();

      xhttp.open("GET", "/HenTB4?quat2=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
      xhttp.send();

    }
    else if (textgiotren < textgioduoi) {

      alert("Vui lòng chọn giờ dưới lớn hơn hoặc bằng giờ trên");
      return;
    }
  }

  function HenQuat3() {
    var selectgioduoi = document.getElementById("gioduoi");
    var textgioduoi = selectgioduoi.options[selectgioduoi.selectedIndex].value;
    console.log("textgioduoi: " + textgioduoi);

    var selectphutduoi = document.getElementById("phutduoi");
    var textphutduoi = selectphutduoi.options[selectphutduoi.selectedIndex].value;
    console.log("textphutduoi: " + textphutduoi);


    var selectgiotren = document.getElementById("giotren");
    var textgiotren = selectgioduoi.options[selectgiotren.selectedIndex].value;
    console.log("textgiotren: " + textgiotren);

    var selectphuttren = document.getElementById("phuttren");
    var textphuttren = selectphutduoi.options[selectphuttren.selectedIndex].value;
    console.log("textphuttren: " + textphuttren);


    if (textgiotren == textgioduoi) {

      if (textphuttren > textphutduoi) {

        var txden = "1";


        var xhttp = new XMLHttpRequest();

        xhttp.open("GET", "/HenTB5?quat3=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
        xhttp.send();
      }
      else if (textphuttren <= textphutduoi) {
        alert("Vui lòng chọn phút dưới nhỏ hơn phút trên");
        return;
      }

    }
    else if (textgiotren > textgioduoi) {
      var txden = "1";


      var xhttp = new XMLHttpRequest();

      xhttp.open("GET", "/HenTB5?quat3=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
      xhttp.send();

    }
    else if (textgiotren < textgioduoi) {

      alert("Vui lòng chọn giờ dưới lớn hơn hoặc bằng giờ trên");
      return;
    }
  }
  function HenQuat4() {
    var selectgioduoi = document.getElementById("gioduoi");
    var textgioduoi = selectgioduoi.options[selectgioduoi.selectedIndex].value;
    console.log("textgioduoi: " + textgioduoi);

    var selectphutduoi = document.getElementById("phutduoi");
    var textphutduoi = selectphutduoi.options[selectphutduoi.selectedIndex].value;
    console.log("textphutduoi: " + textphutduoi);


    var selectgiotren = document.getElementById("giotren");
    var textgiotren = selectgioduoi.options[selectgiotren.selectedIndex].value;
    console.log("textgiotren: " + textgiotren);

    var selectphuttren = document.getElementById("phuttren");
    var textphuttren = selectphutduoi.options[selectphuttren.selectedIndex].value;
    console.log("textphuttren: " + textphuttren);


    if (textgiotren == textgioduoi) {

      if (textphuttren > textphutduoi) {

        var txden = "1";


        var xhttp = new XMLHttpRequest();

        xhttp.open("GET", "/HenTB6?quat4=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
        xhttp.send();
      }
      else if (textphuttren <= textphutduoi) {
        alert("Vui lòng chọn phút dưới nhỏ hơn phút trên");
        return;
      }

    }
    else if (textgiotren > textgioduoi) {
      var txden = "1";


      var xhttp = new XMLHttpRequest();

      xhttp.open("GET", "/HenTB6?quat4=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren, true);
      xhttp.send();

    }
    else if (textgiotren < textgioduoi) {

      alert("Vui lòng chọn giờ dưới lớn hơn hoặc bằng giờ trên");
      return;
    }
  }
  

  function tathengioquat() {
    console.log("Button tắt hẹn Giờ quat!!!");

    var xhttp = new XMLHttpRequest();
    xhttp.open("GET", "/tathengioquat", true);
    xhttp.send();
  }
  function tathengioquat1() {
    console.log("Button tắt hẹn Giờ quat1!!!");

    var xhttp = new XMLHttpRequest();
    xhttp.open("GET", "/tathengioquat1", true);
    xhttp.send();
  }
  function tathengioquat2() {
    console.log("Button tắt hẹn Giờ quat1!!!");

    var xhttp = new XMLHttpRequest();
    xhttp.open("GET", "/tathengioquat2", true);
    xhttp.send();
  }
  function tathengioquat3() {
    console.log("Button tắt hẹn Giờ quat1!!!");

    var xhttp = new XMLHttpRequest();
    xhttp.open("GET", "/tathengioquat3", true);
    xhttp.send();
  }

  function tathengioquat4() {
    console.log("Button tắt hẹn Giờ quat1!!!");

    var xhttp = new XMLHttpRequest();
    xhttp.open("GET", "/tathengioquat4", true);
    xhttp.send();
  }

</script>


<body >
<!-- onload="UpdateData()" -->
  <h1>Webserver!!!</h1>



  <select id="chon" style="width: 60px; height: 40px;">


    <option value="1">Đèn</option>
    <option value="2">Quạt</option>
    <option value="3">Quạt1</option>
    <option value="4">Quạt2</option>
    <option value="5">Quạt3</option>
    <option value="6">Quạt4</option>

  </select>

  </select>



  <select id="gioduoi" style="width: 50px; height: 40px;">

    <option value="04">05</option>
    <option value="05">06</option>
    <option value="06">07</option>
    <option value="07">08</option>
    <option value="08">09</option>
    <option value="09">10</option>
    <option value="10">11</option>
    <option value="11">12</option>
    <option value="12">13</option>
    <option value="13">14</option>
    <option value="14">15</option>
    <option value="15">16</option>
    <option value="16">17</option>
    <option value="17">18</option>
    <option value="18">19</option>
    <option value="19">20</option>
    <option value="20">21</option>
    <option value="21">22</option>
    <option value="22">23</option>
  </select>
  <label>:</label>
  <select id="phutduoi" style="width: 50px; height: 40px;">
    <option value="00">00</option>
    <option value="01">01</option>
    <option value="02">02</option>
    <option value="03">03</option>
    <option value="04">04</option>
    <option value="05">05</option>
    <option value="06">06</option>
    <option value="07">07</option>
    <option value="08">08</option>
    <option value="09">09</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    <option value="34">34</option>
    <option value="35">35</option>
    <option value="36">36</option>
    <option value="37">37</option>
    <option value="38">38</option>
    <option value="39">39</option>
    <option value="40">40</option>
    <option value="41">41</option>
    <option value="42">42</option>
    <option value="43">43</option>
    <option value="44">44</option>
    <option value="45">45</option>
    <option value="46">46</option>
    <option value="47">47</option>
    <option value="48">48</option>
    <option value="49">49</option>
    <option value="50">50</option>
    <option value="51">51</option>
    <option value="52">52</option>
    <option value="53">53</option>
    <option value="54">54</option>
    <option value="55">55</option>
    <option value="56">56</option>
    <option value="57">57</option>
    <option value="58">58</option>
    <option value="59">59</option>
  </select>
  <label>-</label>
  <select id="giotren" style="width: 50px; height: 40px;">
    <option value="04">05</option>
    <option value="05">06</option>
    <option value="06">07</option>
    <option value="07">08</option>
    <option value="08">09</option>
    <option value="09">10</option>
    <option value="10">11</option>
    <option value="11">12</option>
    <option value="12">13</option>
    <option value="13">14</option>
    <option value="14">15</option>
    <option value="15">16</option>
    <option value="16">17</option>
    <option value="17">18</option>
    <option value="18">19</option>
    <option value="19">20</option>
    <option value="20">21</option>
    <option value="21">22</option>
    <option value="22">23</option>
  </select>
  <label>:</label>
  <select id="phuttren" style="width: 50px; height: 40px;">
    <option value="00">00</option>
    <option value="01">01</option>
    <option value="02">02</option>
    <option value="03">03</option>
    <option value="04">04</option>
    <option value="05">05</option>
    <option value="06">06</option>
    <option value="07">07</option>
    <option value="08">08</option>
    <option value="09">09</option>
    <option value="10">10</option>
    <option value="11">11</option>
    <option value="12">12</option>
    <option value="13">13</option>
    <option value="14">14</option>
    <option value="15">15</option>
    <option value="16">16</option>
    <option value="17">17</option>
    <option value="18">18</option>
    <option value="19">19</option>
    <option value="20">20</option>
    <option value="21">21</option>
    <option value="22">22</option>
    <option value="23">23</option>
    <option value="24">24</option>
    <option value="25">25</option>
    <option value="26">26</option>
    <option value="27">27</option>
    <option value="28">28</option>
    <option value="29">29</option>
    <option value="30">30</option>
    <option value="31">31</option>
    <option value="32">32</option>
    <option value="33">33</option>
    <option value="34">34</option>
    <option value="35">35</option>
    <option value="36">36</option>
    <option value="37">37</option>
    <option value="38">38</option>
    <option value="39">39</option>
    <option value="40">40</option>
    <option value="41">41</option>
    <option value="42">42</option>
    <option value="43">43</option>
    <option value="44">44</option>
    <option value="45">45</option>
    <option value="46">46</option>
    <option value="47">47</option>
    <option value="48">48</option>
    <option value="49">49</option>
    <option value="50">50</option>
    <option value="51">51</option>
    <option value="52">52</option>
    <option value="53">53</option>
    <option value="54">54</option>
    <option value="55">55</option>
    <option value="56">56</option>
    <option value="57">57</option>
    <option value="58">58</option>
    <option value="59">59</option>
  </select>
  <button onclick="hengio()">Send hẹn giờ</button>

  <button onclick="tathengioden()">Tắt hẹn giờ đèn </button>

  <button onclick="tathengioquat()">Tắt hẹn giờ quạt</button>
  <button onclick="tathengioquat1()">Tắt hẹn giờ quạt1</button>

  <button onclick="tathengioquat2()">Tắt hẹn giờ quạt2</button>

  <button onclick="tathengioquat3()">Tắt hẹn giờ quạt3</button>


  <button onclick="tathengioquat4()">Tắt hẹn giờ quạt4</button>




  <h1>
    TRẠNG THÁI ĐÈN:
    <label id="trangthaiden">OFF</label>
  </h1>


  <h1>
    TRẠNG THÁI QUẠT:
    <label id="trangthaiquat">OFF</label>
  </h1>
  <h1>
    TRẠNG THÁI QUẠT1:
    <label id="trangthaiquat1">OFF</label>
  </h1>
  <h1>
    TRẠNG THÁI QUẠT2:
    <label id="trangthaiquat2">OFF</label>
  </h1>
  <h1>
    TRẠNG THÁI QUẠT3:
    <label id="trangthaiquat3">OFF</label>
  </h1>
  <h1>
    TRẠNG THÁI QUẠT4:
    <label id="trangthaiquat4">OFF</label>
  </h1>


  <h1>
    HẸN GIỜ ĐÈN:
    <label id="henden">không có xe đặt chỗ</label>
  </h1>


  <h1>
    HẸN GIỜ QUẠT:
    <label id="henquat">không có xe đặt chỗ</label>
  </h1>

  <h1>
    HẸN GIỜ QUẠT1:
    <label id="henquat1">không có xe đặt chỗ</label>
  </h1>
  <h1>
    HẸN GIỜ QUẠT2:
    <label id="henquat2">không có xe đặt chỗ</label>
  </h1>
  <h1>
    HẸN GIỜ QUẠT3:
    <label id="henquat3">không có xe đặt chỗ</label>
  </h1>
  <h1>
    HẸN GIỜ QUẠT4:
    <label id="henquat4">không có xe đặt chỗ</label>
  </h1>
  <script src="socket.io/socket.io.js"></script>
  <script src="/jquery-3.5.1.min.js"></script>
  <script>
  var socket = io("http://localhost:3000/")

  socket.on('espConnected',()=>{
    console.log('done')
  })
  function HenDen() {
    var selectgioduoi = document.getElementById("gioduoi");
    var textgioduoi = selectgioduoi.options[selectgioduoi.selectedIndex].value;
    console.log("textgioduoi: " + textgioduoi);
    var selectphutduoi = document.getElementById("phutduoi");
    var textphutduoi = selectphutduoi.options[selectphutduoi.selectedIndex].value;
    console.log("textphutduoi: " + textphutduoi);
    var selectgiotren = document.getElementById("giotren");
    var textgiotren = selectgioduoi.options[selectgiotren.selectedIndex].value;
    console.log("textgiotren: " + textgiotren);
    var selectphuttren = document.getElementById("phuttren");
    var textphuttren = selectphutduoi.options[selectphuttren.selectedIndex].value;
    console.log("textphuttren: " + textphuttren);
    if (textgiotren == textgioduoi) {
      if (textphuttren > textphutduoi) {
        var txden = "1";
        socket.emit('HenDen',"/HenTB1?den=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren)
      }
      else if (textphuttren <= textphutduoi) {
        alert("Vui lòng chọn phút dưới nhỏ hơn phút trên");
        return;
      }
    }
    else if (textgiotren > textgioduoi) {
      var txden = "1";
        socket.emit('HenDen',"/HenTB1?den=" + txden + "&GD=" + textgioduoi + "&PD=" + textphutduoi + "&GT=" + textgiotren + "&PT=" + textphuttren)
    }
    else if (textgiotren < textgioduoi) {
      alert("Vui lòng chọn giờ dưới lớn hơn hoặc bằng giờ trên");
      return;
    }
  }
  function tathengioden() {
    socket.emit('tathengioden',"/tathengioden")
}
  </script>
</body>



</html>